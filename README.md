# 小说阅读网站聚合器

这是一个基于Flask开发的小说阅读网站聚合器，可以抓取多个小说网站的内容并提供统一的阅读界面。

## 功能特点

- **多源聚合**: 支持从不同小说网站抓取内容
- **智能缓存**: 自动缓存页面内容，提高访问速度并减少源站压力
- **搜索功能**: 支持关键词搜索小说
- **分页浏览**: 支持小说章节的分页显示
- **响应式设计**: 适配不同设备屏幕尺寸
- **暗黑模式**: 支持夜间阅读模式

## 技术栈

- **后端**: Python + Flask
- **前端**: HTML + CSS + JavaScript (Bootstrap框架)
- **爬虫**: requests + BeautifulSoup4
- **数据存储**: JSON文件缓存

## 安装与运行

### 环境要求

- Python 3.6+

### 安装依赖

```bash
pip install flask requests beautifulsoup4
```

### 运行应用

```bash
python app.py
```

应用将在 `http://localhost:5000` 上运行。

## 使用说明

1. **首页**: 展示推荐小说列表
2. **搜索**: 使用顶部搜索框搜索小说
3. **书籍详情**: 点击小说进入详情页，可查看小说信息和章节列表
4. **阅读**: 点击章节开始阅读
5. **翻页**: 使用章节页面的上一页/下一页按钮进行翻页

## 项目结构

```
.
├── app.py              # 主应用文件
├── templates/          # HTML模板
│   ├── base.html       # 基础模板
│   ├── index.html      # 首页模板
│   ├── search.html     # 搜索页模板
│   ├── book_detail.html # 书籍详情页模板
│   └── chapter.html    # 章节阅读页模板
├── static/             # 静态资源文件
├── cache/              # 缓存文件目录
└── think/              # 开发过程中的参考资料
```

## 功能模块

### 首页 (`/`)
展示推荐小说列表，从主站获取经典推荐内容。

### 搜索 (`/search`)
通过关键词搜索小说，支持跨站搜索。

### 书籍详情 (`/book`)
显示书籍详细信息和章节列表，支持分页加载。

### 章节阅读 (`/chapter`)
展示小说章节内容，提供上一页/下一页导航。

### 缓存管理 (`/clear_cache`)
清空服务端缓存。

## 配置说明

应用默认监听所有网络接口(`0.0.0.0`)，端口为`5000`。可以通过修改[app.py](file:///F:/pythonProject/book/app/app.py#L11-L11)文件末尾的`app.run()`参数来更改：

```python
if __name__ == '__main__':
    app.run(debug=True, host='127.0.0.1', port=8000)  # 更改为主机和端口
```

## 缓存机制

应用使用JSON文件作为缓存存储，默认缓存有效期为24小时。缓存文件存储在`cache`目录下，文件名为URL的MD5哈希值。

## 注意事项

1. 本项目仅供学习交流使用，请尊重原网站的版权和robots.txt规则
2. 过度频繁的请求可能会对源站造成压力，请合理使用
3. 部分网站可能会有反爬虫机制，如遇到无法获取内容的情况属于正常现象